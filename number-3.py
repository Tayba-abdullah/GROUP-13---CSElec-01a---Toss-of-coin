# MASTER SCRIPT - DISPLAY GRAPHS ONLY (NO SAVING)

import matplotlib.pyplot as plt
from collections import defaultdict

# ================= DATA =================
group_data = {
    "Group 1": {"1B": "0100111000100001011101000001100110101100111111101001110001001011101111010111010100101000000001101101", "2": "1010010100011101100100100101110100011000101101101000011100010011110110001010000110110111000011100000"},
    "Group 2": {"1B": "0010111000100011111011001010100001111100010111001001011101101000110101010010110110010100011010111010", "5A": "1110011101010010000011110101011011000111000011100101101011111100101111001100100111010111000100010101"},
    "Group 3": {"1B": "1110101110101110110101011010101111101010101011111101101010101111011010110101001110000000000000000000", "10A": "0010110110000010110010111101110000010000111001111110010101010101111111110010000001110101010101011100"},
    "Group 4": {"5A": "0101001001011101111010100101000111001001011001110111001001000101010110011011101111001101110110000011", "5B": "0101101101011001101101011000110000110100001000110101011111001011011011001110111001010101000101111111"},
    "Group 5": {"1A": "1101001010001011000001011110110100010101110000010010010100101000000101011110100000111110100100000101", "1B": "0101111010101101110111001111111011100110001001111010010010110001011100010001011011011101111101101010"},
    "Group 6": {"5B": "1110110101100011100011010011000111010010000101101000110001101100010001101101110000100001010011001010", "20": "0011000101100110000010101010101000001010011000110011110011001100111010001001001011100011001111110111"},
    "Group 7": {"5A": "1010110011011100010101000110000000000010111010010011110011011110110100110100001111010010010101010111", "10A": "1101000011001011000111111111110110000100010110110011010011000101001110011001100010100101001000011110"},
    "Group 8": {"1A": "0101101101011001101101011000110000110100001000110101011111001011011011001110111001010101000101100011", "10B": "0101001001011101111010100101000111001001011001110111001001000101010110011011101111001101110110111011"},
    "Group 9": {
        "5B": "1011100110110011011000110011001010000110011110001100110011100010011100010000011000011100001100111011",
        "1B": "0011010110011100011101001100011101100011110011000110110111100011110001000110011000011100101100100110",
        "20": "0011110000111000001110000111000100011000111001000110000011000000000011010000001110001110000110111000"
    },
    "Group 10": {"5B": "1110010110010001111010010100011111111000011010000111111110101000110001110101100101110111101001010011", "10B": "0010010110111001001101011101110010001010100110100100110011100001001000000110111000010010001100011110"},
    "Group 11": {"1A": "1011000111110001101011010101101001000101110101010001100100000110001110101011000000010000100010100010", "10B": "1000110100010101010111001101101100110010111100001111001101001010101010011110111011101010111011100000"},
    "Group 12": {"5B": "1110100100101000010110011011011100100100011111010101111000000110111101010111101101100111100000100001", "5A": "0000000110110110110111001011101011011010010101100110101000011110110000101010111110011100111010100111"},
    "Group 13": {"1A": "1110111011111100011101111110001001000010101010100100100001011111100000110001011100011000001110000010", "10A": "0001000100000011100010000001110110111101010101011011011110100000011111001110100011100011010011010101"},
    "Group 14": {"1A": "0001111101100010100001101110101000101100010110000010100110110001110011101000000000110010110001000100", "20": "0111110111001101100010000001001001110100101101010101111111111111100001100111000001001100110111010111"},
    "Group 15": {"1B": "0011100011111100011111000010010111000101001101000010111011000011001010110001111001010110100110000101", "5B": "0011001011101001110111100000011011111101111110011100010011010000010000010111101111010010101000000101"}
}

# ================= AGGREGATE =================
master_coins = defaultdict(str)

for coins in group_data.values():
    for coin, sequence in coins.items():
        master_coins[coin] += sequence

# ================= FUNCTION =================
def cumulative_counts(sequence):
    heads, tails = [], []
    h = t = 0
    for flip in sequence:
        if flip == '1':
            h += 1
        else:
            t += 1
        heads.append(h)
        tails.append(t)
    return range(1, len(sequence) + 1), heads, tails

# ================= DISPLAY GRAPHS =================
print("\n--- FINAL CLASS TALLY ---")

for coin, data in sorted(master_coins.items()):

    x, heads, tails = cumulative_counts(data)

    print(f"Coin {coin}: {len(data)} tosses | Heads: {heads[-1]} | Tails: {tails[-1]}")

    plt.figure(figsize=(9, 5))
    plt.plot(x, heads, label="Total Heads", linewidth=2)
    plt.plot(x, tails, label="Total Tails", linestyle="--", linewidth=2)

    plt.title(f"MASTER CLASS DATA: Coin {coin}")
    plt.xlabel("Toss Number")
    plt.ylabel("Cumulative Count")
    plt.legend()
    plt.grid(True)

# Show ALL figures together
plt.show()
